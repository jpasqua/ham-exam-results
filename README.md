# WM7X Exam Results Processor

This is a simple Flask web app to process Amateur Radio exam results PDFs generated by ExamTools.org.  
It identifies missed questions, looks up the question texts and correct answers, and displays a detailed summary.

⚠️ **Note:** This tool is for convenience only and is not part of ExamTools.org or any official exam administration.

---

## Features

✅ Upload ExamTools results PDF  
✅ Identify missed questions  
✅ Show full question text and correct answers  
✅ Display exam type (Technician, General, Amateur Extra)   
✅ Automatically deletes uploaded files after processing


## Project structure

```
/ham_exam_web/
├── app.py              # Flask app
├── processor.py        # Core parsing + reporting logic
├── requirements.txt    # Python dependencies
├── static/             # CSS and image assets
├── templates/          # HTML templates
└── data/               # Question pool JSON files
    ├── technician.json
    ├── general.json
    └── extra.json
```


## Setup (local development)

1️⃣ Clone the repository:

```bash
git clone <repo-url>
cd ham_exam_web
```

2️⃣ Set up Python virtual environment:

```bash
python3 -m venv venv
source venv/bin/activate
```

3️⃣ Install dependencies:

```bash
pip install -r requirements.txt
```

4️⃣ Set the Flask app environment variable

```bash
export FLASK_APP=app.py
```

5️⃣ Run the app:

```bash
flask run
```

6️⃣ Open in browser:

```
http://127.0.0.1:5000/
```


## PythonAnywhere Deployment Checklist

### 1️⃣ Prepare code repository

* Push all project files to a GitHub repository  
* Ensure:

- `requirements.txt` lists all dependencies (`pip freeze > requirements.txt`)  
- `.gitignore` excludes `venv/`, `__pycache__/`, etc.  
- `LICENSE` and `README.md` are included  


### 2️⃣ Log into PythonAnywhere

* Go to https://www.pythonanywhere.com  
* Open **Dashboard**

### 3️⃣ Clone project into PythonAnywhere

In **Bash console**:

```bash
cd ~
git clone https://github.com/jpasqua/wm7x-exam-results.git wm7x-exam-results
cd wm7x-exam-results
```

*(Use SSH clone if using private repo + deploy keys)*


### 4️⃣ Create virtual environment

```bash
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 5️⃣ Set up web app

In **PythonAnywhere Web tab**:

* Create **Manual → Python 3.10 app**  
* Set:

	- Working directory: `/home/kr4ml/wm7x-exam-results`
	- Virtualenv path: `/home/kr4ml/wm7x-exam-results/venv`

### 6️⃣ Configure WSGI file

Edit WSGI configuration (linked in Web tab, usually `/var/www/kr4ml_pythonanywhere_com_wsgi.py`). Copy the content of `/home/kr4ml/wm7x-exam-results/wsgi.py`.


### 7️⃣ Reload web app

* Go to Web tab  
* Click **Reload**


### 8️⃣ Check logs (if needed)

Go to **Web tab → Log files**

- `error log` → Python errors, exceptions  
- `access log` → HTTP requests  
- `server log` → server events

To tail logs live:
```bash
tail -f /var/log/kr4ml.pythonanywhere.com.error.log
```


### 🔄 Updating app in the future

```bash
cd ~/wm7x-exam-results
git pull
source venv/bin/activate
pip install -r requirements.txt
```

Then go to Web tab → **Reload**.

---

### ✅ Summary

You now have:

* Code on PythonAnywhere  
* Virtual environment with dependencies  
* Web app wired to Flask app  
* Logs ready for debugging  
* Easy Git-based updates


## Notes

- Uploaded PDFs are stored temporarily on the server and **deleted immediately after processing**.
- No exam or user data is saved.
- The question pool JSON files must match the current active exam pools.


## License

This project is licensed under the MIT License — see the [LICENSE](LICENSE) file for details.

## Disclaimers

Not affiliated with ExamTools.org - provided as a tool for the WM7X team.
